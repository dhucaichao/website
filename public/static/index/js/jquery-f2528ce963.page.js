!function(n){var e={init:function(n,a){return function(){e.fillHtml(n,a),e.bindEvent(n,a)}()},fillHtml:function(n,e){return function(){n.empty(),e.current>1?n.append('<a href="javascript:;" class="prevPage">上一页</a>'):(n.remove(".prevPage"),n.append('<span class="disabled">上一页</span>')),1!=e.current&&e.current>=4&&4!=e.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">1</a>'),e.current-2>2&&e.current<=e.pageCount&&e.pageCount>5&&n.append("<span>...</span>");var a=e.current-2,t=e.current+2;for((a>1&&e.current<4||1==e.current)&&t++,e.current>e.pageCount-4&&e.current>=e.pageCount&&a--;a<=t;a++)a<=e.pageCount&&a>=1&&(a!=e.current?n.append('<a href="javascript:;" class="tcdNumber">'+a+"</a>"):n.append('<span class="currentPage">'+a+"</span>"));e.current+2<e.pageCount-1&&e.current>=1&&e.pageCount>5&&n.append("<span>...</span>"),e.current!=e.pageCount&&e.current<e.pageCount-2&&4!=e.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">'+e.pageCount+"</a>"),e.current<e.pageCount?n.append('<a href="javascript:;" class="nextPage">下一页</a>'):(n.remove(".nextPage"),n.append('<span class="disabled">下一页</span>'))}()},bindEvent:function(a,t){return function(){a.on("click","a.tcdNumber",function(){var r=parseInt(n(this).text());e.fillHtml(a,{current:r,pageCount:t.pageCount}),"function"==typeof t.backFn&&t.backFn(r)}),a.on("click","a.prevPage",function(){var n=parseInt(a.children("span.currentPage").text());e.fillHtml(a,{current:n-1,pageCount:t.pageCount}),"function"==typeof t.backFn&&t.backFn(n-1)}),a.on("click","a.nextPage",function(){var n=parseInt(a.children("span.currentPage").text());e.fillHtml(a,{current:n+1,pageCount:t.pageCount}),"function"==typeof t.backFn&&t.backFn(n+1)})}()}};n.fn.createPage=function(a){var t=n.extend({pageCount:15,current:1,backFn:function(){}},a);e.init(this,t)}}(jQuery);